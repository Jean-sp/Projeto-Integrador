<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milhito - Comidas Juninas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!--Cabeçalho-->
    <header>
        <div class="logo-container">
            <video autoplay muted loop><source src="imagens/86567-593944964_medium.mp4" type="video/mp4"></video>
            <img src="imagens/logo_milhito.png" class="logo">
            <h1>Milhito</h1>
        </div>
        <button class="hamburger-menu" aria-label="Abrir menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <nav>
            <ul>
                <li><a href="index.html#home">Início</a></li>
                <li><a href="index.html#products">Produtos</a></li>
                <li><a href="index.html#team">Equipe</a></li>
                <li><a href="index.html#location">Localização</a></li>
                <li><a href="index.html#contact">Contato</a></li>
                <li><a href="pag2.html">Tudo sobre nos</a></li>
            </ul>
        </nav>
    </header>
    <!--Cabeçalho-->

    <main>
        <!--Carrossel-->
        <section id="home">
            <div class="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item">
                        <img src="imagens/c1.jpeg" alt="Carrousel 1">
                    </div>
                    <div class="carousel-item">
                        <img src="imagens/c2.jpeg" alt="Carrousel 2">
                    </div>
                    <div class="carousel-item">
                        <img src="imagens/c3.jpeg" alt="Carrousel 3">
                    </div>
                    <div class="carousel-item">
                        <img src="imagens/c4.jpeg" alt="Carrousel 4">
                    </div>
                </div>
                <button class="carousel-control prev">&lt;</button>
                <button class="carousel-control next">&gt;</button>
                <div class="carousel-indicators">
                    <div class="indicator active"></div>
                    <div class="indicator"></div>
                    <div class="indicator"></div>
                    <div class="indicator"></div>
                </div>
            </div>
        </section>
        <!--Carrossel-->

        <!--Produtos-->
        <section id="products">
            <h2>Nossos Produtos</h2>
            <div class="products">
                <div class="product-card">
                    <div><img class="circle" src="imagens/silhueta.png" alt=""></div>
                    <div class="product-image">
                        <img src="imagens/c2.jpeg" alt="Bolo de Milho">
                    </div>
                    <div class="product-info">
                        <h3>Bolo de Milho</h3>
                        <p>Bolo de milho com creme de coco.</p>
                        <p class="price">R$ 11,00 (unidade)</p>
                    </div>
                </div>
            </div>
        </section>
        <!--Produtos-->

        <!--Avaliaçoes-->
        <section id="assessments">
            <h2>Avaliações</h2>
            <button class="avaliacao-prev">&#10094;</button>
            <div class="Slider">
            <div class="Slides"></div>
            </div>
            <button class="avaliacao-next">&#10095;</button>
        </section>
        <!--Avaliaçoes-->

        <!--Mapa-->
        <section id="location">
            <h2>Onde Estamos</h2>
            <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d1373.2297708049364!2d-50.43720668791457!3d-22.65020919176208!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMjLCsDM4JzU4LjgiUyA1MMKwMjYnMTUuMyJX!5e1!3m2!1spt-BR!2sbr!4v1744817216059!5m2!1spt-BR!2sbr"  allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </section>
        <!--Mapa-->

        <!--Equipe-->
        <section id="team">
            <h2>Nossa Equipe</h2>
            <div class="team-carousel-container">
                <div class="team-members">
                    <div class="team-member">
                        <img src="imagens/ana.jpeg" alt="Ana">
                        <h3>Ana</h3>
                        <p>Função</p>
                    </div>
                    <div class="team-member">
                        <img src="imagens/paulo.jpeg" alt="Paulo">
                        <h3>Paulo</h3>
                        <p>Função</p>
                    </div>
                    <div class="team-member">
                        <img src="imagens/hellen.jpeg" alt="Hellen">
                        <h3>Hellen</h3>
                        <p>Função</p>
                    </div>
                    <div class="team-member">
                        <img src="imagens/luis.jpeg" alt="Luis">
                        <h3>Luis</h3>
                        <p>Função</p>
                    </div>
                    <div class="team-member">
                        <img src="imagens/gabriele.jpeg" alt="Gabriele">
                        <h3>Gabriele</h3>
                        <p>Função</p>
                    </div>
                    <div class="team-member">
                        <img src="imagens/giuliana.jpeg" alt="Giuliana">
                        <h3>Giuliana</h3>
                        <p>Função</p>
                    </div>
                </div> <!-- Fechamento correto do .team-members -->
                <button class="team-carousel-prev">&lt;</button>
                <button class="team-carousel-next">&gt;</button>
            </div>
            <div class="team-intro">
                    <h3>Sobre a Equipe</h3>
                    <p>A Milhito é uma empresa focada na produção de bolos de milho doce, destacando a qualidade e o sabor desse ingrediente tão tradicional na culinária.</p>
                    <p>Nosso compromisso é oferecer produtos preparados com cuidado e ingredientes selecionados, garantindo uma experiência única para quem aprecia o verdadeiro gosto do milho.</p>
                    <a href="pag2.html" target="_blank" rel="noopener noreferrer">Tudo sobre nos</a>
            </div>
        </section>
        <!--Equipe-->

        <!--Comentarios-->
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
        <section id="SectionComentarios">
            <div class="SectionComentariosInterna">

                <section id="SectionFormulario">
                    <h2 class="TituloSectionComentarios">Deixe seu comentário</h2>
                    <form id="comentarioForm">
                        <input data-aos="zoom-in" data-aos-delay="200" maxlength="120" type="text" id="nome" placeholder="Seu nome" required/>
                        <textarea data-aos="zoom-in" data-aos-delay="1000"id="mensagem" placeholder="Sua mensagem" maxlength="300" required></textarea>

                        <div class="estrelas-avaliacao" data-aos="zoom-in" data-aos-delay="1000">
                            <li class="star" data-value="1">&#9733</li>
                            <li class="star" data-value="2">&#9733</li>
                            <li class="star" data-value="3">&#9733</li>
                            <li class="star" data-value="4">&#9733</li>
                            <li class="star" data-value="5">&#9733</li>
                        </div>
                        <input type="hidden" id="nota" name="nota" value="" required>
                        <button
                            data-aos="fade-up"
                            data-aos-delay="1400"
                            id="ButtonSubmit"
                            type="submit"
                            >
                            Enviar
                        </button>
                    </form>
                </section>
            </div>
        </section>
        <!--Comentarios-->

        <!--Contato-->
        <section id="contact">
            <h2>Contato</h2>
            <div class="social-links">
                <a href="https://wa.me/5518996934917" target="_blank" aria-label="WhatsApp"><img src="imagens/whatsapp.jpg" alt=""><i class="fab fa-whatsapp"></i></a>
                <a href="https://www.instagram.com/milhito_fatec/" target="_blank" aria-label="Instagram"><img src="imagens/Instagram_icon.png" alt=""><i class="fab fa-instagram"></i></a>
            </div>
        </section>
        <!--Contato-->
    </main>

    <!--//Rodapé-->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contato</h3>
                <p><i class="fas fa-map-marker-alt"></i>  Av. Dom Antônio, 2100  - Parque Universitario  Unesp - Faculdade de Ciências e Letras</p>
                <p><i class="fas fa-phone"></i> (18) 99693-4917</p>
                <p><i class="fas fa-envelope"></i> </p>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 MILHITO - Todos os direitos reservados - <a class= "desenvolvedor" href="pag3.html">Desenvolvedores</a></p>
        </div>
    </footer>
    <!--//Rodapé-->

    <!--//Avaliação-->
    <script>
        document.querySelectorAll('.star-icon').forEach(star => {
            star.addEventListener('click', function () {
                const rating = this.getAttribute('data-avaliacao');
            document.getElementById('avaliacao').value = rating;

            document.querySelectorAll('.star-icon').forEach(s => s.classList.remove('ativo'));
            this.classList.add('ativo');
            });
        });
    </script>
    <!--//Avaliação-->

    <!--//Carrossel-->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const carouselInner = document.querySelector('.carousel-inner');
        const carouselItems = document.querySelectorAll('.carousel-item');
        const prevBtn = document.querySelector('.carousel-control.prev');
        const nextBtn = document.querySelector('.carousel-control.next');
        const indicators = document.querySelectorAll('.indicator');
        
        let currentIndex = 0;
        const itemCount = carouselItems.length;
        
        function updateCarousel() {
            carouselInner.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            indicators.forEach((indicator, index) => {
                if (index === currentIndex) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }
        
        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + itemCount) % itemCount;
            updateCarousel();
        });
        
        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % itemCount;
            updateCarousel();
        });
        
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                currentIndex = index;
                updateCarousel();
            });
        });
        
        // Auto-rotate carousel
        let carouselInterval = setInterval(() => {
            if (document.hidden) return; // Don't animate if tab is not visible
            currentIndex = (currentIndex + 1) % itemCount;
            updateCarousel();
        }, 3000); // Tempo de auto-rotação padronizado
        
        // Pause on hover
        const carousel = document.querySelector('.carousel');
        carousel.addEventListener('mouseenter', () => {
            clearInterval(carouselInterval);
        });

        carousel.addEventListener('mouseleave', () => {
            clearInterval(carouselInterval); // Garante que qualquer intervalo anterior seja limpo
            carouselInterval = setInterval(() => {
                if (document.hidden) return; // Don't animate if tab is not visible
                currentIndex = (currentIndex + 1) % itemCount;
                updateCarousel();
            }, 3000); // Tempo de auto-rotação padronizado
        });


        // --- Novo código para o Carrossel da Equipe (Mobile) ---
        const teamCarouselContainer = document.querySelector('.team-carousel-container');
        // Verifique se teamCarouselContainer existe antes de tentar acessar suas propriedades
        if (teamCarouselContainer && teamCarouselContainer.querySelector('.team-members')) {
            const teamMembersContainer = teamCarouselContainer.querySelector('.team-members'); // Este é o elemento que desliza
            const teamMemberCards = teamMembersContainer.querySelectorAll('.team-member');
            const teamPrevButton = teamCarouselContainer.querySelector('.team-carousel-prev');
            const teamNextButton = teamCarouselContainer.querySelector('.team-carousel-next');
            
            let teamCurrentSlide = 0;
            let teamIsTransitioning = false;
            const totalTeamSlides = teamMemberCards.length;
            let teamCarouselInterval;
            let teamTransitionTimeoutId; // Para o fallback do transitionend

            // Função para verificar se o carrossel da equipe deve estar ativo (modo mobile)
            function isMobileTeamCarouselActive() {
                return window.innerWidth <= 768; // Este breakpoint deve corresponder ao CSS
            }

            // Função para atualizar a posição do slider da equipe
            function updateTeamSlider() {
                if (!isMobileTeamCarouselActive() || totalTeamSlides === 0) {
                    // Se não for mobile ou não houver slides, reseta o transform (para layout de grid)
                    teamMembersContainer.style.transform = 'translateX(0%)';
                    return;
                }
                
                teamIsTransitioning = true;
                const offset = -teamCurrentSlide * 100; // Cada slide ocupa 100% da largura
                const transitionDuration = 500; // Deve corresponder à duração da transição no CSS (0.5s)

                teamMembersContainer.style.transform = `translateX(${offset}%)`;
                
                // Limpa timeout anterior se houver
                clearTimeout(teamTransitionTimeoutId);

                // Usar 'transitionend' para saber quando a transição terminou
                const handleTransitionEnd = () => {
                    clearTimeout(teamTransitionTimeoutId); // Limpa o fallback
                    teamIsTransitioning = false;
                    teamMembersContainer.removeEventListener('transitionend', handleTransitionEnd);
                };
                teamMembersContainer.addEventListener('transitionend', handleTransitionEnd);

                // Fallback caso o transitionend não dispare
                teamTransitionTimeoutId = setTimeout(() => {
                    console.warn('Team carousel transitionend fallback triggered.');
                    handleTransitionEnd(); // Chama o handler para resetar o estado
                }, transitionDuration + 100); // Um pouco mais que a duração da transição
            }

            // Função para atualizar a visibilidade dos botões de navegação da equipe
            function updateTeamButtonsVisibility() {
                if (!isMobileTeamCarouselActive() || totalTeamSlides <= 1) {
                    teamPrevButton.style.display = "none";
                    teamNextButton.style.display = "none";
                    return;
                }
                // Mostrar/esconder botões baseados no slide atual
                teamPrevButton.style.display = teamCurrentSlide === 0 ? "none" : "block";
                teamNextButton.style.display = teamCurrentSlide >= totalTeamSlides - 1 ? "none" : "block";
            }

            function startTeamAutoScroll() {
                if (!isMobileTeamCarouselActive() || totalTeamSlides <= 1) return;
                stopTeamAutoScroll(); // Limpa intervalo anterior, se houver
                teamCarouselInterval = setInterval(() => {
                    if (teamIsTransitioning || document.hidden) return;
                    teamCurrentSlide = (teamCurrentSlide + 1) % totalTeamSlides;
                    updateTeamSlider();
                    updateTeamButtonsVisibility();
                }, 5000); // Altere 5000 para o intervalo desejado em milissegundos
            }

            function stopTeamAutoScroll() {
                clearInterval(teamCarouselInterval);
            }

            teamCarouselContainer.addEventListener('mouseenter', stopTeamAutoScroll);
            teamCarouselContainer.addEventListener('mouseleave', startTeamAutoScroll);

            if (teamNextButton && teamPrevButton && totalTeamSlides > 0) {
                teamNextButton.addEventListener('click', () => {
                    if (teamIsTransitioning || !isMobileTeamCarouselActive() || teamCurrentSlide >= totalTeamSlides - 1) return;
                    teamCurrentSlide++;
                    updateTeamSlider();
                    updateTeamButtonsVisibility();
                });

                teamPrevButton.addEventListener('click', () => {
                    if (teamIsTransitioning || !isMobileTeamCarouselActive() || teamCurrentSlide === 0) return;
                    teamCurrentSlide--;
                    updateTeamSlider();
                    updateTeamButtonsVisibility();
                });
            }

            // Inicializa e ajusta no redimensionamento
            const initializeOrAdjustTeamCarousel = () => {
                teamCurrentSlide = 0; // Sempre reseta para o primeiro slide ao redimensionar ou inicializar
                updateTeamSlider(); // Aplica o transform (ou reseta se não for mobile)
                updateTeamButtonsVisibility(); // Atualiza a visibilidade dos botões
                startTeamAutoScroll(); // Inicia ou reinicia o auto-scroll
            };

            initializeOrAdjustTeamCarousel(); // Chamada inicial
            
            window.addEventListener('resize', initializeOrAdjustTeamCarousel);
        } // Fim do if teamCarouselContainer

        // Código para rolagem suave dos links da navegação
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');

                // Verifica se é um link interno para a mesma página
                if (href.startsWith('index.html#') || href.startsWith('#')) {
                    e.preventDefault();

                    const targetId = href.substring(href.indexOf('#')); // Pega o # e o que vem depois
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70, // Ajuste para o header fixo
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });
    }); // Fim do DOMContentLoaded
    </script>
    <script>
    (() => {
        let currentSlide = 0;
        const slidesContainer = document.querySelector(".Slides");
        const prevButton = document.querySelector(".avaliacao-prev");
        const nextButton = document.querySelector(".avaliacao-next");
        let totalSlides = 0;
        let isTransitioning = false;
        let slideWidth = 0;
        let slideGap = 0;
        let cardsPerPage = 3;
        let assessmentCarouselInterval;
        let assessmentTransitionTimeoutId; // Para o fallback do transitionend

        // Função para calcular quantos cards mostrar por página, adaptando para mobile
        function calculateCardsPerPage() {
            if (window.innerWidth <= 768) { // Ponto de quebra para mobile, igual ao CSS
                cardsPerPage = 1;
            } else {
                // Desktop: mostra até 3 cards, ou menos se não houver slides suficientes
                cardsPerPage = Math.min(totalSlides, 3); // Garante que não tente mostrar mais slides do que existem
            }
        }
        function calculateSlideDimensions() {
            if (slidesContainer.children.length > 0) {
                slideWidth = slidesContainer.children[0].offsetWidth;
                slideGap = parseFloat(window.getComputedStyle(slidesContainer).gap) || 0;
            }
        }

        function calculateVisibleWidth() {
            return (slideWidth + slideGap) * cardsPerPage;
        }

        function updateSlider() {
            if (totalSlides === 0 || isTransitioning) return;

            isTransitioning = true;

            const transitionDuration = 500; // Deve corresponder à duração da transição no CSS (0.5s)
            if (window.innerWidth <= 768 && cardsPerPage === 1) { // Cenário mobile com 1 card por página
                const translateXPercent = -currentSlide * 100;
                slidesContainer.style.transform = `translateX(${translateXPercent}%)`;
            } else { // Cenário desktop ou mobile com múltiplos cards por página (se aplicável no futuro)
                const visibleWidth = calculateVisibleWidth(); // (slideWidth + slideGap) * cardsPerPage
                const translateX = -currentSlide * visibleWidth;
                slidesContainer.style.transform = `translateX(${translateX}px)`;
            }

            // Limpa timeout anterior se houver
            clearTimeout(assessmentTransitionTimeoutId);

            const handleTransitionEnd = () => {
                clearTimeout(assessmentTransitionTimeoutId); // Limpa o fallback
                isTransitioning = false;
                slidesContainer.removeEventListener("transitionend", handleTransitionEnd);
            };
            slidesContainer.addEventListener("transitionend", handleTransitionEnd);

            // Fallback caso o transitionend não dispare
            assessmentTransitionTimeoutId = setTimeout(() => {
                console.warn('Assessment carousel transitionend fallback triggered.');
                handleTransitionEnd(); // Chama o handler para resetar o estado
            }, transitionDuration + 100); // Um pouco mais que a duração da transição
        }

        function addSlidesToSlider(comentarios) {
            isTransitioning = true;

            slidesContainer.style.transition = "none";
            slidesContainer.innerHTML = "";

            if (!comentarios || comentarios.length === 0) {
                const slide = document.createElement("div");
                slide.classList.add("slide-dinamico");
                slide.innerHTML = `
                    <div class=".Slides-card">
                    <h3 class="nome-comentario">Nenhum comentário ainda</h3>
                    <p class="texto-comentario">Seja o primeiro a deixar seu comentário!</p>
                    </div>
                `;
                slidesContainer.appendChild(slide);
            } else {
                comentarios.forEach((comentario) => {
                    const slide = document.createElement("div");
                    slide.classList.add("slide-dinamico");
                    slide.innerHTML = `
                    <div>
                        <h3 class="nome-comentario">${comentario.nome || "Anônimo"}</h3>
                        <p class="texto-comentario" style="white-space: pre-wrap;">${
                        comentario.mensagem || "Sem mensagem"
                        }</p>
                        <div class="estrelas">${"&#9733".repeat(comentario.nota || 0)}</div>
                    </div>
                    `;
                    slidesContainer.appendChild(slide);
                });
            }

            totalSlides = slidesContainer.children.length;
            currentSlide = 0;
            slidesContainer.style.transform = "translateX(0)";

            calculateSlideDimensions(); // Calcula slideWidth e slideGap
            calculateCardsPerPage();
            updateButtonsVisibility();
            startAssessmentAutoScroll(); // Inicia o auto-scroll após adicionar slides

            void slidesContainer.offsetWidth; // Força o layout

            slidesContainer.style.transition =
            "transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)";
            isTransitioning = false;
        }

        function updateButtonsVisibility() {
            const prevButton = document.querySelector(".avaliacao-prev");
            const nextButton = document.querySelector(".avaliacao-next");
            const totalPages = Math.ceil(totalSlides / cardsPerPage);

            if (totalSlides <= cardsPerPage || totalPages <= 1) {
                prevButton.style.display = "none";
                nextButton.style.display = "none";
            } else {
                prevButton.style.display = currentSlide === 0 ? "none" : "block";
                nextButton.style.display = currentSlide === totalPages - 1 ? "none" : "block";
            }
        }

        function startAssessmentAutoScroll() {
            if (isTransitioning) return; // Não iniciar se já estiver em transição de adição de slides
            const totalPages = Math.ceil(totalSlides / cardsPerPage);
            if (totalPages <= 1) {
                stopAssessmentAutoScroll(); // Para o scroll se não houver páginas suficientes
                return;
            }
            stopAssessmentAutoScroll(); // Limpa intervalo anterior
            assessmentCarouselInterval = setInterval(() => {
                if (isTransitioning || document.hidden) return;
                currentSlide = (currentSlide + 1) % totalPages;
                updateSlider();
                updateButtonsVisibility();
            }, 5000); // Altere 5000 para o intervalo desejado
        }

        function stopAssessmentAutoScroll() {
            clearInterval(assessmentCarouselInterval);
        }
        nextButton.addEventListener("click", () => {
            if (isTransitioning) return;
            const totalPages = Math.ceil(totalSlides / cardsPerPage);
            if (currentSlide < totalPages - 1) {
                currentSlide++;
                updateSlider();
                updateButtonsVisibility();
            }
        });

        prevButton.addEventListener("click", () => {
            if (isTransitioning) return;
            if (currentSlide > 0) {
                currentSlide--;
                updateSlider();
                updateButtonsVisibility();
            }
        });

        // Adiciona um listener para redimensionamento da janela
        window.addEventListener('resize', () => {
            // É uma boa prática usar debounce em eventos de resize para performance,
            // mas para simplificar:
            const oldCardsPerPage = cardsPerPage;
            calculateSlideDimensions(); // Recalcula dimensões pois podem mudar
            calculateCardsPerPage();    // Recalcula cards por página (pode mudar entre desktop/mobile)

            // Se o número de cards por página mudou, ou se não estamos no primeiro slide, reseta.
            if (oldCardsPerPage !== cardsPerPage || currentSlide !== 0) {
                currentSlide = 0; // Reseta para o primeiro slide/página
            }
            updateSlider(); // Aplica a nova transformação
            updateButtonsVisibility(); // Atualiza a visibilidade dos botões
            startAssessmentAutoScroll(); // Reinicia o auto-scroll ao redimensionar
        });

        // Pausar e resumir auto-scroll do carrossel de avaliações
        slidesContainer.closest('.Slider').addEventListener('mouseenter', stopAssessmentAutoScroll);
        slidesContainer.closest('.Slider').addEventListener('mouseleave', startAssessmentAutoScroll);

        window.addSlidesToSlider = addSlidesToSlider;
    })();
    </script>
    <script>
    (() => {
    const firebaseConfig = {
      apiKey: "AIzaSyAlfutnz2Hs8zL3znkO9UbX89w09q1xKh0",
      authDomain: "milhitofatec.firebaseapp.com",
      projectId: "milhitofatec",
      storageBucket: "milhitofatec.firebasestorage.app",
      messagingSenderId: "828700959166",
      appId: "1:828700959166:web:eb45d1875d1667df70d9ef"
    };
  
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  
    document.getElementById("comentarioForm").addEventListener("submit", async (e) => {
      e.preventDefault();
  
      const nome = document.getElementById("nome").value;
      const mensagem = document.getElementById("mensagem").value;
      const nota = parseInt(document.getElementById("nota").value);
  
      try {
        await db.collection("comentarios").add({
          nome,
          mensagem,
          nota,
          criadoEm: firebase.firestore.FieldValue.serverTimestamp(),
        });
  
        alert("Comentário enviado com sucesso!");
        document.getElementById("comentarioForm").reset();
      } catch (err) {
        console.error("Erro ao enviar comentário: ", err);
        alert("Erro ao enviar comentário.");
      }
    });
  
    const containerSlides = document.querySelector(".Slides");
    let comentarios = [];
  
    firebase
      .firestore()
      .collection("comentarios")
      .orderBy("nota", "desc")
      .onSnapshot((snapshot) => {
        comentarios = [];
        snapshot.forEach((doc) => {
          const data = doc.data();
          comentarios.push(data);
        });
  
        // Chama a função para atualizar os slides
        if (typeof window.addSlidesToSlider === "function") {
          window.addSlidesToSlider(comentarios);
        }
      });
    })();
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const starContainer = document.querySelector('.estrelas-avaliacao');
        const stars = starContainer.querySelectorAll('.star');
        const hiddenInputNota = document.getElementById('nota');
    
        // Função para atualizar a aparência das estrelas com base na seleção
        function updateStarAppearance(selectedIndex) {
            stars.forEach((star, index) => {
                if (index < selectedIndex) {
                    star.classList.add('selected');
                } else {
                    star.classList.remove('selected');
                }
            });
        }
    
        // Adicionar event listeners para clique
        stars.forEach(star => {
            star.addEventListener('click', function() {
                const value = this.getAttribute('data-value');
                hiddenInputNota.value = value; // Define o valor do input hidden
                updateStarAppearance(parseInt(value)); // Atualiza a aparência das estrelas
            });
        });
    
        // Opcional: Adicionar event listeners para hover (efeito visual antes de clicar)
        starContainer.addEventListener('mouseover', function(e) {
            const hoveredStar = e.target.closest('.star');
            if (hoveredStar) {
                const value = parseInt(hoveredStar.getAttribute('data-value'));
                stars.forEach((star, index) => {
                    if (index < value) {
                        star.style.color = 'var(--primary-color)'; // Cor ao passar o mouse
                    } else {
                        star.style.color = '#ccc'; // Cor padrão para as não hover
                    }
                });
            }
        });
    
        // Opcional: Resetar cor ao sair do container, a menos que uma estrela esteja selecionada
        starContainer.addEventListener('mouseout', function() {
            const selectedValue = parseInt(hiddenInputNota.value) || 0;
            stars.forEach((star, index) => {
                if (index < selectedValue) {
                    star.style.color = 'var(--primary-color)'; // Mantém cor se selecionada
                } else {
                    star.style.color = '#ccc'; // Cor padrão se não selecionada
                }
            });
        });
    
        // Manter a seleção visual caso a página seja recarregada com um valor pré-existente
        const initialValue = parseInt(hiddenInputNota.value) || 0;
        if (initialValue > 0) {
            updateStarAppearance(initialValue);
        }
    });
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // ... (seu código JavaScript existente para carrossel, rolagem suave, firebase e slider de avaliações) ...

        // --- Novo código para o Menu Hamburguer ---
        const hamburgerBtn = document.querySelector('.hamburger-menu');
        const navMenu = document.querySelector('nav');

        hamburgerBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            hamburgerBtn.classList.toggle('active'); // Adiciona/remove classe para animação do X
        });

        // Opcional: Fechar o menu ao clicar em um link (para rolagem suave)
        document.querySelectorAll('nav ul li a').forEach(link => {
            link.addEventListener('click', () => {
                if (navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                    hamburgerBtn.classList.remove('active');
                }
            });
        });
    });
    </script>
</body> 
</html>
